<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Learning Locker Documentation</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Documentation for Learning Locker, the open source learning record store.">
    <link rel="canonical" href="http://learninglocker.net/reporting_api/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/tomorrow-night.css">
    <link rel="stylesheet" href="/css/docs.css">

    <script async="" src="//www.google-analytics.com/analytics.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-941797-7', 'learninglocker.net');
        ga('send', 'pageview');

    </script>
    <script type="text/javascript">
        function prettyCode() {
            var tables = document.getElementsByTagName('table');
            for (index = 0; index < tables.length; ++index) {
                tables[index].className = "table table-default table-bordered";
            }
        }
    </script>
</head>


    <body onload="prettyCode();">

    <div class="docs-masthead">
    <div class="container">
        <img src="/images/logo-small.png" class="logo">
        <nav class="docs-nav pull-right">
            <a class="docs-nav-item" href="http://learninglocker.net">Website</a>
            <a class="docs-nav-item" href="https://github.com/learninglocker">Github</a>
            <a class="docs-nav-item" href="https://github.com/learninglocker/docs">Edit</a>
        </nav>
    </div>
</div>
<div class="banner">
    <div class="container">
        <div class="docs-header">
            <h1 class="docs-title">Learning Locker Documentation</h1>
            <p class="lead docs-description"> Documentation for Learning Locker, the open source learning record store.</p>
        </div>
    </div>
</div>


    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-3 docs-sidebar">
                <div class="sidebar-title top">
                    Overview
                </div>
                <ul class="nav">
                    <li><a href="/">Welcome</a></li>
                    <li><a href="/contributors">Contributors</a></li>
                </ul>
                <div class="sidebar-title">
                    Getting Started
                </div>
                <ul class="nav">
                    <li><a href="/requirements">Requirements</a></li>
                    <li><a href="/installation">Installation</a></li>
                    <li><a href="/troubleshooting">Troubleshooting</a></li>
                    <li><a href="/upgrading">Upgrading</a></li>
                </ul>
                <div class="sidebar-title">
                    Development
                </div>
                <ul class="nav">
                    <li><a href="/statements">xAPI Statements</a></li>
                    <li><a href="/extending">Extending LL</a></li>
                    <li><a href="/development">Dev Projects</a></li>
                    <li><a href="/reporting_api">Reporting API</a></li>
                </ul>
                <div class="sidebar-title">
                    User Manual
                </div>
                <ul class="nav">
                    <li><a href="/administration">Administration</a></li>
                    <li><a href="/reporting">Reporting tool</a></li>
                </ul>
                <div class="sidebar-title">
                    Get Involved
                </div>
                <ul class="nav">
                    <li><a href="/contribute">Contributing</a></li>
                    <li><a href="/issues">Reporting Issues</a></li>
                    <li><a href="/translation">Translations</a></li>
                </ul>
            </div>
            <div class="col-xs-12 col-sm-8 docs-main">
                <h1 id="reporting-api">Reporting API</h1>

<ul>
  <li><a href="#about">About</a></li>
  <li><a href="#analytics">Analytics</a></li>
  <li><a href="#params">Other parameters</a></li>
</ul>

<h2 id="about">About</h2>

<p>The page details the custom Learning Locker API. This should not be confused with the xAPI as detailed by the <a href="https://github.com/adlnet/xAPI-Spec/blob/master/xAPI.md">xAPI spec</a>.</p>

<p>The purpose of this custom API is to provide developers building reporting type tools with a few additional views of the data within an LRS.</p>

<h2 id="get---apiv1queryanalytics">GET - api/v1/query/analytics</h2>

<table>
  <thead>
    <tr>
      <th>Parameters</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>filter</td>
      <td>Object</td>
      <td>Object of key:value objects, where the key denotes the context path and the value is the value to filter with. A value can be a string or an array.</td>
    </tr>
  </tbody>
</table>

<p><strong>Example</strong></p>

<pre><code>{
 "context.contextActivities.grouping.type" : "course",
 "object.definition.type" : "http://activitystrea.ms/schema/1.0/badge",
 "context.contextActivities.grouping.tags" : [
        ['foo', 'bar'], 
        'hello',
        'world'
  ],
 "result.score.raw": [ '&lt;&gt;', 0.6, 0.8]
}
</code></pre>

<p>This example would look to return data where the grouping is a ‘<em>course</em>’, the object definition type is ‘<em>badge</em>’ and grouping tags are equal to ‘<em>foo</em>’ <strong>or</strong> ‘<em>bar</em>’ <strong>and</strong> ‘<em>hello</em>’ <strong>and</strong> ‘<em>world</em>’. And where the raw result score is between <em>0.6</em> and <em>0.8</em>.</p>

<h3 id="other-parameters">Other parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter name</th>
      <th>Type</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>String</td>
      <td>time</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<p>Type of grouping applied to result.</p>

<p><strong>time:</strong> return an array of dates with a count for how many filtered statements occurred in a defined interval  (day, week, month, year)</p>

<p><strong>user:</strong> return an array of actors with a count for how many filtered statements occurred for each activity: return an array of activities with a count for how many filtered statements occurred for each </p>

<p><strong>verb:</strong> return an array of verbs with a count for how many filtered statements occurred for each</p>

<hr />

<table>
  <thead>
    <tr>
      <th>Parameter name</th>
      <th>Type</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>interval</td>
      <td>String</td>
      <td>day</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<p>User for time grouping only and only applicable when type = time.</p>

<ul>
  <li>Day</li>
  <li>Week</li>
  <li>Month</li>
  <li>Year</li>
</ul>

<hr />

<table>
  <thead>
    <tr>
      <th>Parameter name</th>
      <th>Type</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>since</td>
      <td>String</td>
      <td>optional</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<p>Format: y,m,d</p>

<p>since: ,2014-03-02</p>

<hr />

<table>
  <thead>
    <tr>
      <th>Parameter name</th>
      <th>Type</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>until</td>
      <td>String</td>
      <td>optional</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<p>Format: y,m,d</p>

<p>until: 2014-03-02</p>

<p>To get results for a single day include both since and until. E.g. 
since=2014-03-01&amp;until=2014-03-02 - this will return all results for a 24 hour period from 2014-03-01</p>

            </div>
        </div>
    </div>

    <footer class="docs-footer">
    <p>Learning Locker and the Squirrel logo are copyright HT2, 2014 | Learning Locker is licensed under GPL 3.0.</p>
    <p>
        <a href="#">Back to top</a>
    </p>
</footer>


    </body>
</html>
